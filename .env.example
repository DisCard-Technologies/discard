# DisCard Application Environment Variables
# Copy this file to .env and fill in your actual values

# =============================================================================
# CORE APPLICATION CONFIGURATION
# =============================================================================
NODE_ENV=development
PORT=3001
APP_BASE_URL=http://localhost:3000
APP_URL=http://localhost:3000
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# =============================================================================
# DATABASE & SUPABASE CONFIGURATION
# =============================================================================
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_KEY=your-service-role-key-here

# =============================================================================
# CACHING & REDIS
# =============================================================================
REDIS_URL=redis://localhost:6379

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================
JWT_SECRET=your-jwt-secret-key-here
JWT_REFRESH_SECRET=your-jwt-refresh-secret-key-here

# =============================================================================
# CARD PRIVACY & ENCRYPTION
# =============================================================================
# AES-256 encryption key for card data (32 bytes base64 encoded)
CARD_ENCRYPTION_KEY=your-256-bit-base64-encoded-key-here
# HMAC key for deletion proof signatures
DELETION_SIGNING_KEY=your-hmac-signing-key-here

# =============================================================================
# PAYMENT PROCESSING - STRIPE
# =============================================================================
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key-here
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret-here

# =============================================================================
# STORY 2.4: DEFI INTEGRATION - ALCHEMY BLOCKCHAIN ACCESS
# =============================================================================
# Alchemy API key for all blockchain requests
ALCHEMY_API_KEY=your-alchemy-api-key-here

# Alchemy RPC endpoints for multi-chain DeFi integration
ALCHEMY_ETH_URL=https://eth-mainnet.g.alchemy.com/v2/your-api-key
ALCHEMY_POLYGON_URL=https://polygon-mainnet.g.alchemy.com/v2/your-api-key
ALCHEMY_ARBITRUM_URL=https://arb-mainnet.g.alchemy.com/v2/your-api-key

# Fallback Alchemy URL (if needed)
ALCHEMY_URL=https://eth-mainnet.g.alchemy.com/v2/your-api-key

# =============================================================================
# CRYPTO & WALLET SERVICES
# =============================================================================
# Encryption key for wallet addresses
WALLET_ENCRYPTION_KEY=your-wallet-encryption-key-here

# WalletConnect v2 configuration
WALLETCONNECT_PROJECT_ID=your-walletconnect-project-id-here
WALLETCONNECT_RELAY_URL=wss://relay.walletconnect.com

# BlockCypher API for Bitcoin operations
BLOCKCYPHER_API_KEY=your-blockcypher-api-key-here

# =============================================================================
# STORY 3.1: VISA/MARQETA INTEGRATION (Future Implementation)
# =============================================================================
# Note: These variables are defined for Story 3.1 but not yet implemented
# Current implementation uses Stripe + Privacy.com approach

# Marqeta API Configuration (Sandbox)
MARQETA_BASE_URL=https://sandbox-api.marqeta.com/v3
MARQETA_APPLICATION_TOKEN=your-application-token-here
MARQETA_ACCESS_TOKEN=your-access-token-here
MARQETA_WEBHOOK_SECRET=your-webhook-secret-for-hmac-validation

# AWS KMS for card data encryption (Future Implementation)
AWS_REGION=us-east-1
CARD_ENCRYPTION_KEY_ID=your-kms-key-id-here

# Payment processing timeout (milliseconds for sub-second requirement)
PAYMENT_PROCESSING_TIMEOUT=800

# =============================================================================
# FRONTEND CONFIGURATION (Next.js)
# =============================================================================
NEXT_PUBLIC_API_URL=http://localhost:3001
CUSTOM_KEY=your-custom-frontend-value-here

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================
# Test-specific environment variables are typically mocked
# Ensure your test files handle missing values gracefully

# =============================================================================
# PRODUCTION DEPLOYMENT NOTES
# =============================================================================
# Production Configuration:
# - Set NODE_ENV=production
# - Use production Supabase URLs and keys
# - Switch Marqeta to production URL: https://api.marqeta.com/v3
# - Use AWS KMS for encryption instead of local keys
# - Configure proper CORS origins for your domain
# - Use strong, randomly generated secrets for JWT and encryption keys
# - Enable proper logging and monitoring